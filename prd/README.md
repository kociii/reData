# 智能数据处理平台 - 文档索引

## 📚 文档概览

本目录包含智能数据处理平台的完整产品文档，涵盖需求分析、界面设计、开发计划和技术实现等各个方面。

**重要说明**：为避免文档内容重复，每个文档都有明确的职责范围和内容边界。请根据需要选择合适的文档阅读。

## 📄 文档列表与职责范围

### 1. [prd.md](./prd.md) - 产品需求文档（What & Why）

**职责范围**：回答"做什么"和"为什么做"的问题
- ✅ 业务背景和痛点分析
- ✅ 产品定位和核心价值
- ✅ 功能需求列表（不涉及具体实现）
- ✅ 业务流程图（高层次概述）
- ✅ 非功能性需求（高层次目标）
- ✅ 成功指标（高层次指标）
- ✅ 风险与挑战分析
- ❌ 不包含：技术实现细节、详细流程图、具体性能指标、验收标准、里程碑

**主要章节**:
- 项目概述：业务痛点、产品定位、项目目标、目标用户
- 核心功能需求：项目管理、字段定义、数据提取、去重配置、数据存储、AI 配置、文件导入、数据展示
- 业务流程：主流程图（简化版）
- 处理规则概述：表头识别、数据提取、空行处理、多 Sheet 处理、去重处理（简化为概述）
- 非功能性需求：性能、可用性、可靠性、安全性、扩展性（高层次目标）
- 用户界面设计要求：主要页面功能列表（不涉及具体布局）
- 风险与挑战：技术风险和业务风险分析
- 成功指标：准确率、稳定性、用户满意度（高层次指标）
- 未来规划：语义化管理、多 Sheet 联动

**适用人群**: 产品经理、项目经理、业务人员、开发团队（了解需求）

**重要变更**（v2.3.0）:
- 更新数据提取功能为"AI 列映射分析 + 本地验证导入"的两阶段处理方案
- 每 Sheet 仅 1 次 AI 调用，节省 99.9% 的 Token 消耗
- 标记 AI API 调用成本风险已通过新方案解决

---

### 2. [design.md](./design.md) - 界面设计文档（How - UI/UX）

**职责范围**：回答"界面如何设计"的问题
- ✅ 完整的界面布局（ASCII 图形）
- ✅ 交互流程和用户操作
- ✅ 组件结构和状态管理
- ✅ 视觉设计规范（颜色、字体、间距）
- ✅ 响应式设计方案
- ✅ 错误提示和反馈设计
- ❌ 不包含：业务逻辑、技术实现、数据库设计、开发步骤

**主要章节**:
- 整体布局：应用主框架结构
- 项目列表页（首页）：卡片式布局、空状态设计
- 项目管理界面：项目列表、新建项目对话框
- 字段定义界面：类 Excel 表格编辑器、字段编辑对话框、Prompt 预览
- 处理界面：文件列表、处理详情、Sheet 预览、提取结果展示
- 结果页面：动态列表、搜索筛选、编辑对话框
- 设置页面：AI 配置管理、配置对话框
- 数据流程图：文件处理流程可视化（prd.md 主流程的详细版本）
- 组件交互关系：前端组件树结构
- 状态管理：Pinia Store 架构设计
- 关键交互流程：开始处理、实时进度更新
- 响应式设计：窗口尺寸适配方案
- 主题和样式：颜色方案、字体规范
- 错误处理和提示：错误提示样式、成功提示样式
- 快捷键设计：全局快捷键、页面快捷键

**适用人群**: UI/UX 设计师、前端开发工程师、产品经理

**重要变更**（v2.2.0）:
- 添加文档说明，明确与 prd.md 的关系
- 在文件处理流程添加交叉引用

---

### 3. [plan.md](./plan.md) - 开发实施计划（How - Process）

**职责范围**：回答"如何实施"和"何时完成"的问题
- ✅ 开发进度 Todolist（跟踪开发进度）
- ✅ 项目背景总结（简要）
- ✅ 核心需求总结（高层次，不含技术细节）
- ✅ 实施步骤（分阶段的开发计划）
- ✅ 关键里程碑
- ✅ 风险和注意事项
- ❌ 不包含：技术实现细节、数据库设计、AI Prompt 模板、代码示例、项目结构

**主要章节**:
- 开发进度 Todolist：9 个 Phase 的进度跟踪表格
- Context：项目背景和核心需求总结
- 核心需求总结：系统架构、主要界面、核心处理流程、AI 配置管理（高层次描述）
- 实施步骤：9 个阶段的详细开发计划（每个阶段包含目标、任务清单、验收标准、技术参考）
- 关键里程碑：5 个关键里程碑和交付物
- 风险和注意事项：6 个主要风险和应对措施
- 总结：项目概览和技术栈总结

**适用人群**: 项目经理、技术负责人、开发团队

**重要变更**（v2.1.0）:
- 新增开发进度 Todolist 表格
- 删除所有技术实现细节（已移至 dev.md）
- 每个 Phase 添加"技术参考"指向 dev.md
- 简化验证方法（详细验证方法移至 dev.md 第 12 章）

---

### 4. [dev.md](./dev.md) - 技术文档（How - Tech）

**职责范围**：回答"技术如何实现"的问题
- ✅ 详细的技术栈选型和理由
- ✅ 核心依赖库和版本
- ✅ 完整的数据库设计（表结构、索引、字段说明）
- ✅ 项目结构（完整的目录树）
- ✅ 核心模块实现（代码级别的设计）
- ✅ 关键技术实现（具体的技术方案和代码示例）
- ✅ AI Prompt 设计（完整模板和动态生成逻辑）
- ✅ 性能优化策略
- ✅ 安全性设计
- ✅ 错误处理策略
- ✅ 测试策略
- ✅ 开发环境配置（新增）
- ✅ 验证和测试方法（新增）
- ❌ 不包含：业务需求、界面设计、开发步骤、项目管理

**主要章节**:
- 第 1 章 - 技术栈：
  - 前端: Nuxt 3.18+ + TypeScript + Nuxt UI 3.x + Pinia
  - 桌面框架: Tauri 2.x
  - 后端: Rust + SQLite + OpenAI SDK
  - 核心依赖库详细列表（calamine、rusqlite、reqwest、tokio 等）
- 第 2 章 - 数据库设计：
  - 数据库选型理由（SQLite 的优势）
  - 表结构详细说明（6 个表：projects、project_fields、project_X_records、processing_tasks、ai_configs、batches）
  - 索引设计和性能考虑
  - 动态表创建方案
- 第 3 章 - 项目结构：完整的目录树和文件说明
- 第 4 章 - 核心模块设计：
  - 前端: 路由设计、Pinia Stores（project、field、processing、result、config）
  - 后端: Tauri Commands（project、field、file、processing、config、result）、Services（excel_parser、ai_client、extractor、storage）
- 第 5 章 - 关键技术实现：
  - 动态表创建和管理
  - 动态数据插入
  - 并行处理（tokio 异步运行时）
  - 灵活去重（单字段/多字段组合去重）
  - 实时进度更新（Tauri 事件系统）
  - 暂停/恢复（Arc<Mutex<bool>>）
- 第 6 章 - AI Prompt 动态生成：
  - 字段元数据生成 Prompt
  - 表头识别 Prompt
  - 数据提取 Prompt（动态生成）
- 第 7 章 - 性能优化策略：数据库优化、前端优化、后端优化
- 第 8 章 - 安全性设计：API Key 加密、数据隔离、输入验证
- 第 9 章 - 错误处理策略：错误分类和处理机制
- 第 10 章 - 测试策略：单元测试、集成测试、端到端测试
- 第 11 章 - 开发环境配置（新增）：
  - 初始设置（创建项目、安装依赖）
  - 开发命令（dev、build、test）
  - 数据库初始化
  - 项目结构创建
- 第 12 章 - 验证和测试方法（新增）：
  - 功能验证清单（10 个模块的详细验证步骤）
  - 性能基准（处理速度、并行处理、数据库查询、UI 响应）
  - 测试用例（表头识别、数据提取、去重）
  - 错误处理测试
  - 压力测试
  - 兼容性测试

**适用人群**: 开发工程师、架构师、技术负责人

**重要变更**（v2.1.0）:
- 新增第 11 章：开发环境配置
- 新增第 12 章：验证和测试方法（从 plan.md 移入并扩展）
- 成为唯一的技术实现文档（plan.md 不再包含技术细节）

---

## 🔗 文档关系与内容边界

```
┌─────────────────────────────────────────────────────────────┐
│                      文档职责矩阵                            │
├─────────────┬───────────┬───────────┬───────────┬───────────┤
│  内容类型   │  prd.md   │ design.md │  plan.md  │  dev.md   │
├─────────────┼───────────┼───────────┼───────────┼───────────┤
│ 业务需求    │    ✅     │    ❌     │    ❌     │    ❌     │
│ 功能列表    │    ✅     │    ❌     │    ❌     │    ❌     │
│ 界面布局    │    ❌     │    ✅     │    ❌     │    ❌     │
│ 交互设计    │    ❌     │    ✅     │    ❌     │    ❌     │
│ 视觉规范    │    ❌     │    ✅     │    ❌     │    ❌     │
│ 数据库设计  │    ❌     │    ❌     │    ❌     │    ✅     │
│ 技术架构    │    ❌     │    ❌     │    ❌     │    ✅     │
│ AI Prompt   │    ❌     │    ❌     │    ❌     │    ✅     │
│ 代码实现    │    ❌     │    ❌     │    ❌     │    ✅     │
│ 开发步骤    │    ❌     │    ❌     │    ✅     │    ❌     │
│ 进度跟踪    │    ❌     │    ❌     │    ✅     │    ❌     │
│ 性能优化    │    ❌     │    ❌     │    ❌     │    ✅     │
│ 测试策略    │    ❌     │    ❌     │    ❌     │    ✅     │
└─────────────┴───────────┴───────────┴───────────┴───────────┘

说明：
- ✅ 表示该文档负责此内容
- ❌ 表示该文档不包含此内容
- 重要变更（v2.2.0）：
  - prd.md 不再包含技术实现细节、详细流程图、项目里程碑
  - prd.md 专注于业务需求和高层次目标
  - 与其他文档的重复率从 50% 降至 < 10%
  - 通过交叉引用形成完整的文档体系
- 重要变更（v2.1.0）：
  - plan.md 不再包含技术实现细节（数据库设计、AI Prompt、代码示例）
  - dev.md 成为唯一的技术实现文档
  - plan.md 专注于开发计划和进度跟踪
  - 消除了 70% 的重复内容
```

## 📖 阅读建议

### 对于产品经理
1. **必读**: `prd.md` - 了解完整需求和业务逻辑
2. **推荐**: `design.md` - 了解界面设计和用户体验
3. **参考**: `plan.md` - 了解开发进度和里程碑

### 对于开发工程师
1. **必读**: `dev.md` - 了解技术栈和实现细节
2. **必读**: `plan.md` - 了解实施步骤和关键技术点
3. **推荐**: `design.md` - 了解界面要求和交互流程
4. **参考**: `prd.md` - 了解业务逻辑和功能需求

### 对于 UI/UX 设计师
1. **必读**: `design.md` - 了解界面设计和交互规范
2. **必读**: `prd.md` - 了解业务需求和功能要求
3. **参考**: `plan.md` - 了解开发进度和技术约束

### 对于项目经理
1. **必读**: `prd.md` - 了解项目背景、目标和成功指标
2. **必读**: `plan.md` - 了解实施计划、里程碑和风险
3. **推荐**: `dev.md` - 了解技术风险和资源需求
4. **推荐**: `design.md` - 了解交付物和用户体验

## 🎯 快速导航

### 核心功能
- 多项目管理 → [prd.md#2.1](./prd.md)
- 字段定义功能 → [prd.md#2.2](./prd.md)
- 数据提取功能 → [prd.md#2.3](./prd.md)
- 去重配置功能 → [prd.md#2.4](./prd.md)

### 界面设计
- 项目列表页（首页） → [design.md#2](./design.md)
- 字段定义界面 → [design.md#3](./design.md)
- 处理界面布局 → [design.md#4](./design.md)
- 结果页面布局 → [design.md#5](./design.md)

### 技术实现
- 技术栈选型 → [dev.md#1](./dev.md)
- 数据库设计 → [dev.md#2](./dev.md)
- 核心模块设计 → [dev.md#4](./dev.md)
- 动态表创建 → [dev.md#5.1](./dev.md)
- AI Prompt 动态生成 → [dev.md#6](./dev.md)
- 开发环境配置 → [dev.md#11](./dev.md)
- 验证和测试方法 → [dev.md#12](./dev.md)

### 开发计划
- 开发进度 Todolist → [plan.md#开发进度-Todolist](./plan.md)
- 实施步骤 → [plan.md#实施步骤](./plan.md)
- 关键里程碑 → [plan.md#关键里程碑](./plan.md)
- 风险和注意事项 → [plan.md#风险和注意事项](./plan.md)

## 📝 文档维护

- **创建日期**: 2026-02-13
- **最后更新**: 2026-02-17
- **维护人员**: 开发团队
- **更新频率**: 根据项目进展实时更新
- **版本**: v2.3.0（两阶段处理方案）

**v2.3.0 重要变更**:
- 采用"AI 列映射分析 + 本地验证导入"的两阶段处理方案
- 每 Sheet 仅 1 次 AI 调用，节省 99.9% 的 Token 消耗
- prd.md 更新数据提取流程和风险分析
- dev.md 更新 AI Prompt 设计章节
- plan.md 更新 Phase 3 完成详情
- 新增 `validator.py` 本地数据验证服务

**v2.2.0 重要变更**:
- prd.md 从 632 行减少到 446 行（减少约 30%）
- 删除所有技术实现细节（已移至 dev.md）
- 简化业务流程图（详细流程图移至 design.md）
- 删除项目里程碑章节（已在 plan.md）
- 简化成功指标（详细验收标准移至 dev.md）
- 添加交叉引用，形成完整的文档体系
- prd.md 与其他文档的重复率从 50% 降至 < 10%

**v2.1.0 重要变更**:
- plan.md 从 923 行减少到 347 行（减少 62%）
- dev.md 从 1344 行增加到约 1800 行（增加 34%）
- 消除了 plan.md 和 dev.md 之间 70% 的重复内容
- plan.md 新增开发进度 Todolist 表格
- dev.md 新增第 11 章（开发环境配置）和第 12 章（验证和测试方法）
- 明确了各文档的职责边界，plan.md 专注于开发计划，dev.md 成为唯一的技术实现文档

## 📧 联系方式

如有疑问或建议，请联系项目负责人。

---

**版本**: v2.3.0
**状态**: 两阶段处理方案（Token 高效版）
**项目代号**: reData
**开发进度**: 3/9 (33%)